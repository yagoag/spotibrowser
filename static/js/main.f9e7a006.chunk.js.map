{"version":3,"sources":["store/actions.js","components/Playlist/index.js","components/Pagination/index.js","pages/Playlists/index.js","components/SelectFilter/index.js","components/InputFilter/index.js","components/FilterElement/index.js","pages/FilterPanel/index.js","pages/Tracks/index.js","store/index.js","pages/App/index.js","index.js"],"names":["setActivePlaylist","playlist","type","Playlist","dispatch","useDispatch","activePlaylist","useSelector","state","className","id","onClick","src","images","url","width","height","alt","name","owner","display_name","tracks","total","Pagination","offset","limit","setOffset","setLimit","small","useState","pageVal","setPageVal","value","Math","ceil","onChange","e","isNaN","parseInt","target","Playlists","setUnauthorized","accessToken","playlistMessage","setPlaylistMessage","playlists","setPlaylists","isLoading","setIsLoading","totalPlaylists","setTotalPlaylists","filters","useEffect","fetchPlaylistData","a","console","log","axios","get","process","params","headers","Authorization","then","res","data","message","items","catch","finally","interval","setInterval","clearInterval","map","key","active","SelectFilter","values","style","display","disabled","val","validateInput","validation","primitiveType","parsedVal","test","Error","min","max","setError","entityType","dateTime","event","error","replace","FilterElement","definition","props","InputFilter","FilterPanel","visible","changeSingleFilter","newState","setFilters","filterDefs","filter","def","filterAndPrint","track","shouldAdd","Tracks","setTracks","totalTracks","setTotalTracks","href","response","status","t","title","substring","length","artists","artist","index","INITIAL_STATE","store","createStore","action","REACT_APP_AUTH_API_URL","REACT_APP_CLIENT_ID","REACT_APP_URL","sendToAuth","window","location","App","showFilters","setShowFilters","unauthorized","setAccessToken","localStorage","getItem","hashParams","hash","substr","split","reduce","result","item","parts","access_token","setItem","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f9e7a006.chunk.js","sourcesContent":["function setActivePlaylist(playlist) {\n  return {\n    type: 'SET_ACTIVE_PLAYLIST',\n    playlist,\n  };\n}\n\nfunction setFilters(filters) {\n  return {\n    type: 'SET_FILTERS',\n    filters,\n  };\n}\n\nexport { setActivePlaylist, setFilters };\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setActivePlaylist } from '../../store/actions';\nimport './style.css';\n\nconst Playlist = ({ playlist }) => {\n  const dispatch = useDispatch();\n  const activePlaylist = useSelector(state => state.activePlaylist);\n\n  return (\n    <div\n      className={`playlist${activePlaylist ? ' playlist-small' : ''}${\n        activePlaylist && playlist.id === activePlaylist.id ? ' active' : ''\n      }`}\n      onClick={() => dispatch(setActivePlaylist(playlist))}\n    >\n      <img\n        src={playlist.images[0].url}\n        width={'64px'}\n        height={'64px'}\n        alt={playlist.name}\n      />\n      <div className=\"info\">\n        <div className=\"name\">{playlist.name}</div>\n        <div>\n          By <span className=\"owner\">{playlist.owner.display_name}</span>\n        </div>\n        <div>{playlist.tracks.total} songs</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Playlist;\n","import React, { useState } from 'react';\nimport { FaAngleLeft, FaAngleRight } from 'react-icons/fa';\nimport './style.css';\n\nconst Pagination = ({ offset, limit, total, setOffset, setLimit, small }) => {\n  const [pageVal, setPageVal] = useState(null);\n\n  const handlePageVal = e => {\n    if (!isNaN(parseInt(e.target.value))) {\n      setOffset((e.target.value - 1) * limit);\n      setPageVal(null);\n    } else {\n      setPageVal(e.target.value);\n    }\n  };\n\n  return (\n    <div className={`pagination${small ? ' small' : ''}`}>\n      <FaAngleLeft\n        onClick={() => offset >= limit - 1 && setOffset(offset - limit)}\n        className={'arrow' + (offset < limit - 1 ? ' inactive' : '')}\n      />\n      <span className=\"page-info\">\n        Page\n        <div className=\"input\">\n          <input\n            type=\"text\"\n            className=\"page-number\"\n            value={pageVal || Math.ceil(offset / limit) + 1}\n            onChange={handlePageVal}\n          />\n        </div>\n        {` of ${Math.ceil(total / limit)}`}\n      </span>\n      <FaAngleRight\n        onClick={() => offset < total - limit && setOffset(offset + limit)}\n        className={`arrow ${offset >= total - limit ? ' inactive' : ''}`}\n      />\n      <span className=\"page-limit\">\n        {' | '}\n        <div className=\"input\">\n          <select value={limit} onChange={e => setLimit(e.target.value)}>\n            <option value=\"5\">5</option>\n            <option value=\"10\">10</option>\n            <option value=\"20\">20</option>\n            <option value=\"30\">30</option>\n            <option value=\"40\">40</option>\n            <option value=\"50\">50</option>\n          </select>\n        </div>{' '}\n        items per page\n      </span>\n    </div>\n  );\n};\n\nexport default Pagination;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport Playlist from '../../components/Playlist';\nimport Pagination from '../../components/Pagination';\nimport './style.css';\n\nconst { REACT_APP_SPOTIFY_API_URL } = process.env;\n\nconst Playlists = ({ setUnauthorized, accessToken }) => {\n  const [playlistMessage, setPlaylistMessage] = useState('');\n  const [playlists, setPlaylists] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [limit, setLimit] = useState(5);\n  const [offset, setOffset] = useState(0);\n  const [totalPlaylists, setTotalPlaylists] = useState(0);\n  const activePlaylist = useSelector(state => state.activePlaylist);\n  const filters = useSelector(state => state.filters);\n\n  useEffect(() => {\n    const fetchPlaylistData = async () => {\n      setIsLoading(true);\n      console.log('running playlists useEffect');\n      console.log({ accessToken });\n\n      if (accessToken) {\n        axios\n          .get(REACT_APP_SPOTIFY_API_URL, {\n            params: { ...filters, offset, limit },\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          })\n          .then(res => {\n            setPlaylistMessage(res.data.message);\n            setPlaylists(res.data.playlists.items);\n            setTotalPlaylists(res.data.playlists.total);\n          })\n          .catch(e => {\n            setUnauthorized(true);\n          })\n          .finally(() => {\n            setIsLoading(false);\n          });\n      }\n    };\n\n    fetchPlaylistData();\n    const interval = setInterval(() => {\n      fetchPlaylistData();\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, [filters, limit, offset, setUnauthorized, accessToken]);\n\n  return (\n    <div\n      className={`playlist-container${activePlaylist ? ' active-playlist' : ''}\n      ${isLoading ? ' loading' : ''}`}\n    >\n      {isLoading && (\n        <div className=\"loader-container\">\n          <div className=\"loader\"></div>\n        </div>\n      )}\n      <div className=\"title\">{playlistMessage}</div>\n      <Pagination\n        offset={offset}\n        limit={limit}\n        total={totalPlaylists}\n        setOffset={setOffset}\n        setLimit={setLimit}\n        small={!!activePlaylist}\n      />\n      {playlists.map(playlist => (\n        <Playlist\n          key={playlist.id}\n          playlist={playlist}\n          active={activePlaylist}\n        />\n      ))}\n      <Pagination\n        offset={offset}\n        limit={limit}\n        total={totalPlaylists}\n        setOffset={setOffset}\n        setLimit={setLimit}\n        small={!!activePlaylist}\n      />\n    </div>\n  );\n};\n\nexport default Playlists;\n","import React from 'react';\n\nconst SelectFilter = ({id, values, value, onChange}) => {\n  return (\n    <select id={id} value={value || \"\"} onChange={onChange}>\n      <option style={{display: 'none'}} disabled value=\"\"></option>\n      {values.map(val => <option key={val.value} value={val.value}>{val.name}</option>)}\n    </select>\n  );\n};\n\nexport default SelectFilter;","import React from 'react';\nimport DateTimePicker from 'react-datetime-picker';\n\nconst SelectFilter = ({ id, name, validation, value, onChange, setError }) => {\n  const handleChange = event => {\n    try {\n      validateInput(event.target.value, validation);\n      setError(null);\n    } catch (error) {\n      setError(error.message.replace('{name}', name));\n    } finally {\n      onChange(event);\n    }\n  };\n\n  const handleDateTimeChange = dateTime => {\n    onChange({ target: { id: id, value: dateTime } });\n  };\n\n  if ('entityType' in validation && validation.entityType === 'DATE_TIME') {\n    return <DateTimePicker value={value} onChange={handleDateTimeChange} />;\n  } else {\n    return (\n      <input\n        type={validation.primitiveType === 'INTEGER' ? 'number' : 'text'}\n        id={id}\n        value={value || ''}\n        onChange={handleChange}\n      />\n    );\n  }\n};\n\nconst validateInput = (value, validation) => {\n  if (validation.primitiveType === 'INTEGER') {\n    const parsedVal = parseInt(value);\n    if (!/^\\d*$/.test(value)) {\n      throw new Error('must be an integer');\n    }\n    if (validation.min) {\n      if (parsedVal < validation.min) {\n        throw new Error('must be at least ' + validation.min);\n      }\n    }\n    if (validation.max) {\n      if (parsedVal > validation.max) {\n        throw new Error('must be at most ' + validation.max);\n      }\n    }\n  }\n};\n\nexport default SelectFilter;\n","import React, { useState } from 'react';\nimport SelectFilter from '../SelectFilter';\nimport InputFilter from '../InputFilter';\nimport './style.css';\n\nconst FilterElement = ({ definition, value, onChange }) => {\n  const [error, setError] = useState(null);\n\n  const props = {\n    id: definition.id,\n    name: definition.name,\n    value: value,\n    onChange: onChange,\n  };\n\n  return (\n    <div key={definition.id} className=\"filter\">\n      <div className=\"filter-name\">\n        {definition.name}\n        <span className=\"error-message\"> {error}</span>\n      </div>\n      <div className={`filter-input${error ? ' error' : ''}`}>\n        {'values' in definition ? (\n          <SelectFilter values={definition.values} {...props} />\n        ) : (\n          <InputFilter\n            validation={definition.validation}\n            setError={setError}\n            {...props}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FilterElement;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FilterElement from '../../components/FilterElement';\nimport { setFilters } from '../../store/actions';\nimport filterDefs from './filters.json';\nimport './style.css';\n\nconst FilterPanel = ({ visible, onChange }) => {\n  const filters = useSelector(state => state.filters);\n  const dispatch = useDispatch();\n  const changeSingleFilter = event => {\n    const newState = { ...filters };\n    newState[event.target.id] = event.target.value;\n    dispatch(setFilters(newState));\n  };\n\n  return (\n    <div className={'filter-panel' + (visible ? ' visible' : '')}>\n      {filterDefs\n        .filter(def => def.id !== 'offset' && def.id !== 'limit')\n        .map(def => (\n          <FilterElement\n            key={def.id}\n            definition={def}\n            value={filters[def.id]}\n            onChange={changeSingleFilter}\n          ></FilterElement>\n        ))}\n    </div>\n  );\n};\n\nexport default FilterPanel;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { IoMdClose } from 'react-icons/io';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Pagination from '../../components/Pagination';\nimport { setActivePlaylist } from '../../store/actions';\nimport './style.css';\n\nconst MAX_TITLE_LENGTH = 35;\n\nconst filterAndPrint = track => {\n  const shouldAdd = track.track && track.track.id;\n  if (!shouldAdd) console.log('Not adding', track);\n  return shouldAdd;\n};\n\nconst Tracks = ({ setUnauthorized, accessToken }) => {\n  const [tracks, setTracks] = useState([]);\n  const [totalTracks, setTotalTracks] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [limit, setLimit] = useState(10);\n  const [offset, setOffset] = useState(0);\n  const playlist = useSelector(state => state.activePlaylist);\n  const dispatch = useDispatch();\n  console.log({ playlist });\n\n  useEffect(() => {\n    const fetchPlaylistData = async () => {\n      setIsLoading(true);\n\n      if (playlist && accessToken) {\n        axios\n          .get(playlist.tracks.href, {\n            params: { offset, limit },\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          })\n          .then(res => {\n            setTracks(res.data.items);\n            setTotalTracks(res.data.total);\n          })\n          .catch(e => {\n            if (e.response.status === 401) {\n              setUnauthorized(true);\n            }\n          })\n          .finally(() => {\n            setIsLoading(false);\n          });\n      }\n    };\n\n    fetchPlaylistData();\n    const interval = setInterval(() => {\n      fetchPlaylistData();\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, [playlist, setUnauthorized, accessToken, limit, offset]);\n\n  if (!playlist) {\n    return <></>;\n  }\n\n  return (\n    <div className={`track-container${isLoading ? ' loading' : ''}`}>\n      {isLoading && (\n        <div className=\"loader-container\">\n          <div className=\"loader\"></div>\n        </div>\n      )}\n      <div className=\"playlist-info\">\n        <img\n          src={playlist.images[0].url}\n          width={'152px'}\n          height={'152px'}\n          alt={playlist.name}\n        />\n        <div className=\"playlist-details\">\n          <div className=\"list-type\">Playlist</div>\n          <div className=\"playlist-name\">{playlist.name}</div>\n          <div className=\"track-count\">\n            Created by{' '}\n            <span className=\"playlist-owner\">\n              {playlist.owner.display_name}\n            </span>{' '}\n            · {playlist.tracks.total} songs\n          </div>\n        </div>\n        <IoMdClose\n          className=\"close-button\"\n          onClick={() => dispatch(setActivePlaylist(null))}\n        />\n      </div>\n      <div className=\"track-list\">\n        {tracks.filter(filterAndPrint).map(t => (\n          <div className=\"track\" key={t.track.id}>\n            <span title={t.track.name}>{`${t.track.name.substring(\n              0,\n              MAX_TITLE_LENGTH,\n            )}${t.track.name.length > MAX_TITLE_LENGTH ? '...' : ''}`}</span>\n            {` · `}\n            {t.track.artists.map((artist, index) => (\n              <span key={artist.id} className=\"artist\">{`${artist.name}${\n                index < t.track.artists.length - 1 ? ', ' : ''\n              }`}</span>\n            ))}\n          </div>\n        ))}\n      </div>\n      <Pagination\n        offset={offset}\n        limit={limit}\n        total={totalTracks}\n        setOffset={setOffset}\n        setLimit={setLimit}\n      />\n    </div>\n  );\n};\n\nexport default Tracks;\n","import { createStore } from 'redux';\n\nconst INITIAL_STATE = {\n  activePlaylist: null,\n  filters: {},\n};\n\nfunction reducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case 'SET_ACTIVE_PLAYLIST':\n      return { ...state, activePlaylist: action.playlist };\n    case 'SET_FILTERS':\n      return { ...state, filters: action.filters };\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React, { useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { TiArrowSortedDown, TiArrowSortedUp } from 'react-icons/ti';\nimport './style.css';\nimport Playlists from '../Playlists';\nimport FilterPanel from '../FilterPanel';\nimport Tracks from '../Tracks';\nimport store from '../../store';\n\nconst {\n  REACT_APP_AUTH_API_URL,\n  REACT_APP_CLIENT_ID,\n  REACT_APP_URL,\n} = process.env;\n\nconst sendToAuth = () => {\n  window.location = `${REACT_APP_AUTH_API_URL}?client_id=${REACT_APP_CLIENT_ID}&response_type=token&redirect_uri=${REACT_APP_URL}`;\n};\n\nconst App = () => {\n  const [showFilters, setShowFilters] = useState(false);\n  const [unauthorized, setUnauthorized] = useState(false);\n  const [accessToken, setAccessToken] = useState(null);\n\n  useEffect(() => {\n    if (!localStorage.getItem('access_token')) {\n      const hash = window.location.hash.substr(1);\n      const hashParams = hash.split('&').reduce((result, item) => {\n        var parts = item.split('=');\n        result[parts[0]] = parts[1];\n        return result;\n      }, {});\n\n      if (hashParams.access_token) {\n        localStorage.setItem('access_token', hashParams.access_token);\n        setAccessToken(hashParams.access_token);\n      } else {\n        sendToAuth();\n      }\n    } else {\n      setAccessToken(localStorage.getItem('access_token'));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (unauthorized) {\n      localStorage.removeItem('access_token');\n      sendToAuth();\n    }\n  }, [unauthorized]);\n\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <div id=\"header\">\n          <div className=\"app-title\">SpotiBrowser</div>\n          <button\n            className=\"show-filters\"\n            onClick={() => setShowFilters(!showFilters)}\n          >\n            Filters\n            <span className=\"arrow\">\n              {showFilters ? <TiArrowSortedUp /> : <TiArrowSortedDown />}\n            </span>\n          </button>\n        </div>\n        <FilterPanel visible={showFilters} />\n        <div id=\"contents\">\n          <Playlists\n            setUnauthorized={setUnauthorized}\n            accessToken={accessToken}\n          />\n          <Tracks setUnauthorized={setUnauthorized} accessToken={accessToken} />\n        </div>\n      </div>\n    </Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './pages/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}